# ุงููุฑุญูุฉ ุงูุฃููู: ุฅุนุฏุงุฏ ุงูุฃุณุงุณูุงุช - ูุธุงู ุฅุฏุงุฑุฉ ุงูุฏุฑูุณ ูุงูุญุถูุฑ ุจุงูุฑูู ุงูุนุดูุงุฆู

## ๐ ูุธุฑุฉ ุนุงูุฉ ุนูู ุงููุฑุญูุฉ

ูุฐู ูู ุงููุฑุญูุฉ ุงูุฃููู ูู ุชุทููุฑ ูุธุงู ุฅุฏุงุฑุฉ ุงูุฏุฑูุณ ูุงูุญุถูุฑ ุจุงูุฑูู ุงูุนุดูุงุฆู. ุชุฑูุฒ ูุฐู ุงููุฑุญูุฉ ุนูู ุฅุนุฏุงุฏ ุงูุฃุณุงุณูุงุช ูุงูุจููุฉ ุงูุชุญุชูุฉ ูููุดุฑูุน.

**ุงููุฏุฉ ุงููุชููุนุฉ:** 5-7 ุฃูุงู ุนูู  
**ุงููุฏู:** ุฅูุดุงุก ุฃุณุงุณ ููู ูููุดุฑูุน ูุน ุฌููุน ุงูููููุงุช ุงูุฃุณุงุณูุฉ

---

## ๐ฏ ุฃูุฏุงู ุงููุฑุญูุฉ ุงูุฃููู

1. ุฅุนุฏุงุฏ ูุดุฑูุน Laravel ุฌุฏูุฏ ูุน ุฌููุน ุงููุชุทูุจุงุช
2. ุฅูุดุงุก ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุงูุฌุฏุงูู ุงูุฃุณุงุณูุฉ
3. ุชุทููุฑ ุงูููุงุฐุฌ (Models) ูุงูุนูุงูุงุช
4. ุฅุนุฏุงุฏ Filament Admin Panel
5. ุฅูุดุงุก ุงูุจูุงูุงุช ุงูุชุฌุฑูุจูุฉ ููุงุฎุชุจุงุฑ
6. ุถุจุท ุงูุตูุงุญูุงุช ุงูุฃุณุงุณูุฉ

---

## ๐ ุงูุฎุทูุงุช ุงูุชูุตูููุฉ

### ุงูุฎุทูุฉ 1: ุชูุฒูู ูุฅุนุฏุงุฏ Laravel

```bash
# 1.1 ุฅูุดุงุก ูุดุฑูุน Laravel ุฌุฏูุฏ
composer create-project laravel/laravel BasmahAnwarAlOlmaaV1.0

# 1.2 ุงูุงูุชูุงู ุฅูู ูุฌูุฏ ุงููุดุฑูุน
cd BasmahAnwarAlOlmaaV1.0

# 1.3 ุฅุนุฏุงุฏ ููู ุงูุจูุฆุฉ
cp .env.example .env

# 1.4 ุชูููุฏ ููุชุงุญ ุงูุชุทุจูู
php artisan key:generate
```

**ููุงุญุธุงุช:**
- ุชุฃูุฏ ูู ุชุซุจูุช Composer ุนูู ุงููุธุงู
- ุชุฃูุฏ ูู ุฅุตุฏุงุฑ PHP 8.1 ุฃู ุฃุญุฏุซ
- ุชุฃูุฏ ูู ุชูุนูู extensions ุงููุทููุจุฉ (mbstring, openssl, pdo, tokenizer, xml)

---

### ุงูุฎุทูุฉ 2: ุฅุนุฏุงุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช

```bash
# 2.1 ุฅูุดุงุก ูุงุนุฏุฉ ุจูุงูุงุช MySQL ุฌุฏูุฏุฉ
# ุงุณู ูุงุนุฏุฉ ุงูุจูุงูุงุช: basmah_anwar_alolmaa
```

**ุชุญุฏูุซ ููู .env:**
```env
DB_CONNECTION=mysql
DB_HOST=127.0.0.1
DB_PORT=3306
DB_DATABASE=basmah_anwar_alolmaa
DB_USERNAME=root
DB_PASSWORD=your_password
```

```bash
# 2.2 ุงุฎุชุจุงุฑ ุงูุงุชุตุงู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช
php artisan migrate
```

---

### ุงูุฎุทูุฉ 3: ุชุซุจูุช Filament Admin Panel

```bash
# 3.1 ุชุซุจูุช Filament
composer require filament/filament:"^3.0"

# 3.2 ุชุซุจูุช Filament Panel
php artisan filament:install --panels

# 3.3 ุฅูุดุงุก ูุณุชุฎุฏู ูุฏูุฑ
php artisan make:filament-user
```

**ูุนูููุงุช ุงููุณุชุฎุฏู ุงููุฏูุฑ:**
- ุงูุงุณู: ูุฏูุฑ ุงููุธุงู
- ุงูุจุฑูุฏ ุงูุฅููุชุฑููู: admin@basmah.edu
- ูููุฉ ุงููุฑูุฑ: password123

---

### ุงูุฎุทูุฉ 4: ุฅูุดุงุก ุงููุงูุฌุฑูุดู ููุฌุฏุงูู ุงูุฃุณุงุณูุฉ

```bash
# 4.1 ุฅุถุงูุฉ ุญูู type ูุฌุฏูู ุงููุณุชุฎุฏููู
php artisan make:migration add_type_to_users_table

# 4.2 ุฅูุดุงุก ุฌุฏูู ุงูุฏุฑูุณ
php artisan make:migration create_lessons_table

# 4.3 ุฅูุดุงุก ุฌุฏูู ุฑุจุท ุงูุทูุงุจ ุจุงูุฏุฑูุณ
php artisan make:migration create_lesson_student_table

# 4.4 ุฅูุดุงุก ุฌุฏูู ุงูุญุถูุฑ
php artisan make:migration create_attendances_table

# 4.5 ุฅูุดุงุก ุฌุฏูู ุฃููุงุฏ ุงูุญุถูุฑ ุงูุนุดูุงุฆูุฉ
php artisan make:migration create_attendance_codes_table
```

**ูุญุชูู ุงููุงูุฌุฑูุดู:**

**add_type_to_users_table:**
```php
public function up()
{
    Schema::table('users', function (Blueprint $table) {
        $table->enum('type', ['admin', 'teacher', 'student'])->default('student');
    });
}
```

**create_lessons_table:**
```php
public function up()
{
    Schema::create('lessons', function (Blueprint $table) {
        $table->id();
        $table->string('title');
        $table->text('description')->nullable();
        $table->foreignId('teacher_id')->constrained('users')->onDelete('cascade');
        $table->date('lesson_date');
        $table->time('start_time');
        $table->time('end_time');
        $table->string('location')->nullable();
        $table->boolean('is_active')->default(true);
        $table->timestamps();
    });
}
```

**create_lesson_student_table:**
```php
public function up()
{
    Schema::create('lesson_student', function (Blueprint $table) {
        $table->id();
        $table->foreignId('lesson_id')->constrained()->onDelete('cascade');
        $table->foreignId('student_id')->constrained('users')->onDelete('cascade');
        $table->timestamps();
        
        $table->unique(['lesson_id', 'student_id']);
    });
}
```

**create_attendances_table:**
```php
public function up()
{
    Schema::create('attendances', function (Blueprint $table) {
        $table->id();
        $table->foreignId('lesson_id')->constrained()->onDelete('cascade');
        $table->foreignId('student_id')->constrained('users')->onDelete('cascade');
        $table->enum('status', ['present', 'absent', 'late'])->default('present');
        $table->dateTime('attendance_date');
        $table->string('used_code', 6)->nullable();
        $table->timestamps();
        
        $table->unique(['lesson_id', 'student_id']);
    });
}
```

**create_attendance_codes_table:**
```php
public function up()
{
    Schema::create('attendance_codes', function (Blueprint $table) {
        $table->id();
        $table->foreignId('lesson_id')->constrained()->onDelete('cascade');
        $table->string('code', 6);
        $table->timestamp('expires_at');
        $table->boolean('is_active')->default(true);
        $table->timestamps();
    });
}
```

```bash
# 4.6 ุชุดุบูู ุงููุงูุฌุฑูุดู
php artisan migrate
```

---

### ุงูุฎุทูุฉ 5: ุฅูุดุงุก ุงูููุงุฐุฌ (Models)

```bash
# 5.1 ุฅูุดุงุก ูููุฐุฌ ุงูุฏุฑุณ
php artisan make:model Lesson

# 5.2 ุฅูุดุงุก ูููุฐุฌ ุงูุญุถูุฑ
php artisan make:model Attendance

# 5.3 ุฅูุดุงุก ูููุฐุฌ ููุฏ ุงูุญุถูุฑ
php artisan make:model AttendanceCode
```

**ูุญุชูู ุงูููุงุฐุฌ:**

**app/Models/User.php (ุชุญุฏูุซ):**
```php
<?php

namespace App\Models;

use Illuminate\Database\Eloquent\Factories\HasFactory;
use Illuminate\Foundation\Auth\User as Authenticatable;
use Illuminate\Notifications\Notifiable;
use Laravel\Sanctum\HasApiTokens;

class User extends Authenticatable
{
    use HasApiTokens, HasFactory, Notifiable;

    protected $fillable = [
        'name',
        'email',
        'password',
        'type',
    ];

    protected $hidden = [
        'password',
        'remember_token',
    ];

    protected $casts = [
        'email_verified_at' => 'datetime',
        'password' => 'hashed',
    ];

    // ุงูุนูุงูุงุช
    public function teacherLessons()
    {
        return $this->hasMany(Lesson::class, 'teacher_id');
    }

    public function studentLessons()
    {
        return $this->belongsToMany(Lesson::class, 'lesson_student', 'student_id', 'lesson_id');
    }

    public function attendances()
    {
        return $this->hasMany(Attendance::class, 'student_id');
    }

    // Helper methods
    public function isAdmin()
    {
        return $this->type === 'admin';
    }

    public function isTeacher()
    {
        return $this->type === 'teacher';
    }

    public function isStudent()
    {
        return $this->type === 'student';
    }
}
```

**app/Models/Lesson.php:**
```php
<?php

namespace App\Models;

use Illuminate\Database\Eloquent\Factories\HasFactory;
use Illuminate\Database\Eloquent\Model;

class Lesson extends Model
{
    use HasFactory;

    protected $fillable = [
        'title',
        'description',
        'teacher_id',
        'lesson_date',
        'start_time',
        'end_time',
        'location',
        'is_active',
    ];

    protected $casts = [
        'lesson_date' => 'date',
        'start_time' => 'datetime:H:i',
        'end_time' => 'datetime:H:i',
        'is_active' => 'boolean',
    ];

    // ุงูุนูุงูุงุช
    public function teacher()
    {
        return $this->belongsTo(User::class, 'teacher_id');
    }

    public function students()
    {
        return $this->belongsToMany(User::class, 'lesson_student', 'lesson_id', 'student_id');
    }

    public function attendances()
    {
        return $this->hasMany(Attendance::class);
    }

    public function attendanceCodes()
    {
        return $this->hasMany(AttendanceCode::class);
    }

    // Helper methods
    public function getCurrentAttendanceCode()
    {
        return $this->attendanceCodes()
            ->where('is_active', true)
            ->where('expires_at', '>', now())
            ->latest()
            ->first();
    }
}
```

**app/Models/Attendance.php:**
```php
<?php

namespace App\Models;

use Illuminate\Database\Eloquent\Factories\HasFactory;
use Illuminate\Database\Eloquent\Model;

class Attendance extends Model
{
    use HasFactory;

    protected $fillable = [
        'lesson_id',
        'student_id',
        'status',
        'attendance_date',
        'used_code',
    ];

    protected $casts = [
        'attendance_date' => 'datetime',
    ];

    // ุงูุนูุงูุงุช
    public function lesson()
    {
        return $this->belongsTo(Lesson::class);
    }

    public function student()
    {
        return $this->belongsTo(User::class, 'student_id');
    }
}
```

**app/Models/AttendanceCode.php:**
```php
<?php

namespace App\Models;

use Illuminate\Database\Eloquent\Factories\HasFactory;
use Illuminate\Database\Eloquent\Model;

class AttendanceCode extends Model
{
    use HasFactory;

    protected $fillable = [
        'lesson_id',
        'code',
        'expires_at',
        'is_active',
    ];

    protected $casts = [
        'expires_at' => 'datetime',
        'is_active' => 'boolean',
    ];

    // ุงูุนูุงูุงุช
    public function lesson()
    {
        return $this->belongsTo(Lesson::class);
    }

    // Helper methods
    public function isExpired()
    {
        return $this->expires_at < now();
    }

    public function isValid()
    {
        return $this->is_active && !$this->isExpired();
    }
}
```

---

### ุงูุฎุทูุฉ 6: ุฅูุดุงุก Filament Resources

```bash
# 6.1 ุฅูุดุงุก UserResource
php artisan make:filament-resource User --generate

# 6.2 ุฅูุดุงุก LessonResource
php artisan make:filament-resource Lesson --generate

# 6.3 ุฅูุดุงุก AttendanceResource
php artisan make:filament-resource Attendance --generate

# 6.4 ุฅูุดุงุก AttendanceCodeResource
php artisan make:filament-resource AttendanceCode --generate
```

---

### ุงูุฎุทูุฉ 7: ุฅูุดุงุก RelationManagers

```bash
# 7.1 ุฅูุดุงุก StudentsRelationManager ููุฏุฑูุณ
php artisan make:filament-relation-manager LessonResource students StudentsRelationManager

# 7.2 ุฅูุดุงุก AttendancesRelationManager ููุฏุฑูุณ
php artisan make:filament-relation-manager LessonResource attendances AttendancesRelationManager

# 7.3 ุฅูุดุงุก LessonsRelationManager ูููุณุชุฎุฏููู
php artisan make:filament-relation-manager UserResource lessons LessonsRelationManager
```

---

### ุงูุฎุทูุฉ 8: ุฅูุดุงุก Seeders ููุจูุงูุงุช ุงูุชุฌุฑูุจูุฉ

```bash
# 8.1 ุฅูุดุงุก UserSeeder
php artisan make:seeder UserSeeder

# 8.2 ุฅูุดุงุก LessonSeeder
php artisan make:seeder LessonSeeder

# 8.3 ุฅูุดุงุก AttendanceSeeder
php artisan make:seeder AttendanceSeeder
```

**ูุญุชูู Seeders:**

**database/seeders/UserSeeder.php:**
```php
<?php

namespace Database\Seeders;

use App\Models\User;
use Illuminate\Database\Seeder;
use Illuminate\Support\Facades\Hash;

class UserSeeder extends Seeder
{
    public function run()
    {
        // ุฅูุดุงุก ูุฏูุฑ ุงููุธุงู
        User::create([
            'name' => 'ูุฏูุฑ ุงููุธุงู',
            'email' => 'admin@basmah.edu',
            'password' => Hash::make('password123'),
            'type' => 'admin',
        ]);

        // ุฅูุดุงุก ุฃุณุงุชุฐุฉ
        User::create([
            'name' => 'ุฏ. ุฃุญูุฏ ูุญูุฏ',
            'email' => 'ahmed@basmah.edu',
            'password' => Hash::make('password123'),
            'type' => 'teacher',
        ]);

        User::create([
            'name' => 'ุฏ. ูุงุทูุฉ ุนูู',
            'email' => 'fatima@basmah.edu',
            'password' => Hash::make('password123'),
            'type' => 'teacher',
        ]);

        // ุฅูุดุงุก ุทูุงุจ
        for ($i = 1; $i <= 20; $i++) {
            User::create([
                'name' => "ุทุงูุจ ุฑูู {$i}",
                'email' => "student{$i}@basmah.edu",
                'password' => Hash::make('password123'),
                'type' => 'student',
            ]);
        }
    }
}
```

```bash
# 8.4 ุชุญุฏูุซ DatabaseSeeder
# ุฅุถุงูุฉ UserSeeder ุฅูู database/seeders/DatabaseSeeder.php

# 8.5 ุชุดุบูู Seeders
php artisan db:seed
```

---

### ุงูุฎุทูุฉ 9: ุฅุนุฏุงุฏ ุงูุตูุงุญูุงุช ุงูุฃุณุงุณูุฉ

```bash
# 9.1 ุฅูุดุงุก Policies
php artisan make:policy LessonPolicy --model=Lesson
php artisan make:policy AttendancePolicy --model=Attendance
```

---

### ุงูุฎุทูุฉ 10: ุงุฎุชุจุงุฑ ุงููุธุงู ุงูุฃุณุงุณู

```bash
# 10.1 ุชุดุบูู ุงูุฎุงุฏู ุงููุญูู
php artisan serve

# 10.2 ุฒูุงุฑุฉ ููุญุฉ ุงูุชุญูู
# http://localhost:8000/admin

# 10.3 ุชุณุฌูู ุงูุฏุฎูู ุจุญุณุงุจ ุงููุฏูุฑ
# ุงูุจุฑูุฏ: admin@basmah.edu
# ูููุฉ ุงููุฑูุฑ: password123
```

---

## โ ูุนุงููุฑ ุฅุชูุงู ุงููุฑุญูุฉ ุงูุฃููู

- [ ] ุชู ุฅูุดุงุก ูุดุฑูุน Laravel ุจูุฌุงุญ
- [ ] ุชู ุฅุนุฏุงุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุฌููุน ุงูุฌุฏุงูู
- [ ] ุชู ุฅูุดุงุก ุฌููุน ุงูููุงุฐุฌ ูุน ุงูุนูุงูุงุช ุงูุตุญูุญุฉ
- [ ] ุชู ุชุซุจูุช ูุฅุนุฏุงุฏ Filament Admin Panel
- [ ] ุชู ุฅูุดุงุก Filament Resources ููุฌุฏุงูู ุงูุฃุณุงุณูุฉ
- [ ] ุชู ุฅูุดุงุก RelationManagers ููุนูุงูุงุช
- [ ] ุชู ุฅูุดุงุก ุงูุจูุงูุงุช ุงูุชุฌุฑูุจูุฉ
- [ ] ูููู ุงููุตูู ูููุญุฉ ุงูุชุญูู ูุนุฑุถ ุงูุจูุงูุงุช
- [ ] ุชู ุงุฎุชุจุงุฑ ุงูุนูููุงุช ุงูุฃุณุงุณูุฉ (ุฅูุดุงุกุ ุชุนุฏููุ ุญุฐู)

---

## ๐ง ุงุณุชูุดุงู ุงูุฃุฎุทุงุก ุงูุดุงุฆุนุฉ

### ูุดููุฉ: ุฎุทุฃ ูู ุงูุงุชุตุงู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช
**ุงูุญู:**
- ุชุฃูุฏ ูู ุชุดุบูู ุฎุงุฏู MySQL
- ุชุญูู ูู ุตุญุฉ ุจูุงูุงุช ุงูุงุชุตุงู ูู ููู .env
- ุชุฃูุฏ ูู ูุฌูุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช

### ูุดููุฉ: ุฎุทุฃ ูู Composer
**ุงูุญู:**
```bash
composer install
composer update
```

### ูุดููุฉ: ุฎุทุฃ ูู ุตูุงุญูุงุช ุงููููุงุช
**ุงูุญู:**
```bash
chmod -R 755 storage
chmod -R 755 bootstrap/cache
```

---

## ๐ ุงูููุงุฑุฏ ุงููููุฏุฉ

- [Laravel Documentation](https://laravel.com/docs)
- [Filament Documentation](https://filamentphp.com/docs)
- [Laravel Eloquent Relationships](https://laravel.com/docs/eloquent-relationships)

---

## ๐ฏ ุงูุฎุทูุฉ ุงูุชุงููุฉ

ุจุนุฏ ุฅุชูุงู ูุฐู ุงููุฑุญูุฉ ุจูุฌุงุญุ ุณุชููู ุฌุงูุฒุงู ููุงูุชูุงู ุฅูู **ุงููุฑุญูุฉ ุงูุซุงููุฉ: ุชุทููุฑ ุงูููุฒุงุช ุงูุฃุณุงุณูุฉ** ูุงูุชู ุชุชุถูู:

1. ุชุทููุฑ ูุงุฌูุงุช ุงููุณุชุฎุฏู ุงููุฎุตุตุฉ
2. ุชุทุจูู ูุธุงู ุงูุตูุงุญูุงุช ุงููุชูุฏู
3. ุฅูุดุงุก ููุญุงุช ุงูุชุญูู ุงููุฎุตุตุฉ ููู ููุน ูุณุชุฎุฏู
4. ุชุทููุฑ ูุธุงู ุงูุฅุดุนุงุฑุงุช

---

*ุชู ุฅุนุฏุงุฏ ูุฐุง ุงูููู ูู: 2025-01-12*  
*ุขุฎุฑ ุชุญุฏูุซ: 2025-01-12*