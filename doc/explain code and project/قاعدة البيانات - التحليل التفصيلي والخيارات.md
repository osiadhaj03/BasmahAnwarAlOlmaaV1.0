# ูุงุนุฏุฉ ุงูุจูุงูุงุช - ุงูุชุญููู ุงูุชูุตููู ูุงูุฎูุงุฑุงุช

## ๐ ูุธุฑุฉ ุนุงูุฉ

ูุฐุง ุงูููู ูุญุชูู ุนูู ุชุญููู ุดุงูู ููุงุนุฏุฉ ุงูุจูุงูุงุช ุงูุฎุงุตุฉ ุจูุธุงู ุฅุฏุงุฑุฉ ุงูุฏุฑูุณ ูุงูุญุถูุฑ ุจุงูุฑูู ุงูุนุดูุงุฆูุ ูุน ุดุฑุญ ุชูุตููู ููู ุฌุฏูู ูุงูุนูุงูุงุช ุจูููุงุ ุจุงูุฅุถุงูุฉ ุฅูู ุชุญููู ููุตู ููุฎูุงุฑุงุช ุงููุฎุชููุฉ ูู ุงูุชุตููู.

---

## ๐๏ธ ูููู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงูุญุงูู

### ุงูุฌุฏุงูู ุงูุฃุณุงุณูุฉ:

1. **users** - ุฌุฏูู ุงููุณุชุฎุฏููู (ุงููุฏุฑุงุกุ ุงูุฃุณุงุชุฐุฉุ ุงูุทูุงุจ)
2. **lessons** - ุฌุฏูู ุงูุฏุฑูุณ
3. **lesson_student** - ุฌุฏูู ุฑุจุท ุงูุทูุงุจ ุจุงูุฏุฑูุณ (Many-to-Many)
4. **attendances** - ุฌุฏูู ุณุฌูุงุช ุงูุญุถูุฑ
5. **attendance_codes** - ุฌุฏูู ุฃููุงุฏ ุงูุญุถูุฑ ุงูุนุดูุงุฆูุฉ

---

## ๐ ุชูุงุตูู ุงูุฌุฏุงูู

### 1. ุฌุฏูู ุงููุณุชุฎุฏููู (users)

```sql
CREATE TABLE users (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    name VARCHAR(255) NOT NULL,
    email VARCHAR(255) UNIQUE NOT NULL,
    email_verified_at TIMESTAMP NULL,
    password VARCHAR(255) NOT NULL,
    type ENUM('admin', 'teacher', 'student') DEFAULT 'student',
    remember_token VARCHAR(100) NULL,
    created_at TIMESTAMP NULL,
    updated_at TIMESTAMP NULL
);
```

**ุงูุญููู:**
- `id`: ุงููุนุฑู ุงููุฑูุฏ ูููุณุชุฎุฏู
- `name`: ุงุณู ุงููุณุชุฎุฏู
- `email`: ุงูุจุฑูุฏ ุงูุฅููุชุฑููู (ูุฑูุฏ)
- `email_verified_at`: ุชุงุฑูุฎ ุชุฃููุฏ ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
- `password`: ูููุฉ ุงููุฑูุฑ ุงููุดูุฑุฉ
- `type`: ููุน ุงููุณุชุฎุฏู (admin, teacher, student)
- `remember_token`: ุฑูุฒ ุชุฐูุฑ ุชุณุฌูู ุงูุฏุฎูู
- `created_at`, `updated_at`: ุชูุงุฑูุฎ ุงูุฅูุดุงุก ูุงูุชุญุฏูุซ

**ุงูููุงุฑุณ:**
- Primary Key ุนูู `id`
- Unique Index ุนูู `email`
- Index ุนูู `type` (ููุจุญุซ ุงูุณุฑูุน)

---

### 2. ุฌุฏูู ุงูุฏุฑูุณ (lessons)

```sql
CREATE TABLE lessons (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    title VARCHAR(255) NOT NULL,
    description TEXT NULL,
    teacher_id BIGINT NOT NULL,
    lesson_date DATE NOT NULL,
    start_time TIME NOT NULL,
    end_time TIME NOT NULL,
    location VARCHAR(255) NULL,
    is_active BOOLEAN DEFAULT TRUE,
    created_at TIMESTAMP NULL,
    updated_at TIMESTAMP NULL,
    
    FOREIGN KEY (teacher_id) REFERENCES users(id) ON DELETE CASCADE
);
```

**ุงูุญููู:**
- `id`: ุงููุนุฑู ุงููุฑูุฏ ููุฏุฑุณ
- `title`: ุนููุงู ุงูุฏุฑุณ
- `description`: ูุตู ุงูุฏุฑุณ (ุงุฎุชูุงุฑู)
- `teacher_id`: ูุนุฑู ุงูุฃุณุชุงุฐ (Foreign Key ุฅูู users)
- `lesson_date`: ุชุงุฑูุฎ ุงูุฏุฑุณ
- `start_time`: ููุช ุจุฏุงูุฉ ุงูุฏุฑุณ
- `end_time`: ููุช ุงูุชูุงุก ุงูุฏุฑุณ
- `location`: ููุงู ุงูุฏุฑุณ (ุงุฎุชูุงุฑู)
- `is_active`: ุญุงูุฉ ุงูุฏุฑุณ (ูุดุท/ุบูุฑ ูุดุท)
- `created_at`, `updated_at`: ุชูุงุฑูุฎ ุงูุฅูุดุงุก ูุงูุชุญุฏูุซ

**ุงูุนูุงูุงุช:**
- `belongsTo` ูุน ุฌุฏูู users (ุงูุฃุณุชุงุฐ)

**ุงูููุงุฑุณ:**
- Primary Key ุนูู `id`
- Foreign Key ุนูู `teacher_id`
- Index ุนูู `lesson_date` (ููุจุญุซ ุจุงูุชุงุฑูุฎ)
- Index ุนูู `is_active` (ููููุชุฑุฉ)

---

### 3. ุฌุฏูู ุฑุจุท ุงูุทูุงุจ ุจุงูุฏุฑูุณ (lesson_student)

```sql
CREATE TABLE lesson_student (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    lesson_id BIGINT NOT NULL,
    student_id BIGINT NOT NULL,
    created_at TIMESTAMP NULL,
    updated_at TIMESTAMP NULL,
    
    FOREIGN KEY (lesson_id) REFERENCES lessons(id) ON DELETE CASCADE,
    FOREIGN KEY (student_id) REFERENCES users(id) ON DELETE CASCADE,
    UNIQUE KEY unique_lesson_student (lesson_id, student_id)
);
```

**ุงูุญููู:**
- `id`: ุงููุนุฑู ุงููุฑูุฏ ููุนูุงูุฉ
- `lesson_id`: ูุนุฑู ุงูุฏุฑุณ (Foreign Key ุฅูู lessons)
- `student_id`: ูุนุฑู ุงูุทุงูุจ (Foreign Key ุฅูู users)
- `created_at`, `updated_at`: ุชูุงุฑูุฎ ุงูุฅูุดุงุก ูุงูุชุญุฏูุซ

**ุงูุนูุงูุงุช:**
- Many-to-Many ุจูู lessons ู users (ุงูุทูุงุจ)

**ุงูููุงุฑุณ:**
- Primary Key ุนูู `id`
- Foreign Key ุนูู `lesson_id`
- Foreign Key ุนูู `student_id`
- Unique Index ุนูู (`lesson_id`, `student_id`) ูููุน ุงูุชุณุฌูู ุงูููุฑุฑ

---

### 4. ุฌุฏูู ุณุฌูุงุช ุงูุญุถูุฑ (attendances)

```sql
CREATE TABLE attendances (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    lesson_id BIGINT NOT NULL,
    student_id BIGINT NOT NULL,
    status ENUM('present', 'absent', 'late') DEFAULT 'present',
    attendance_date DATETIME NOT NULL,
    used_code VARCHAR(6) NULL,
    created_at TIMESTAMP NULL,
    updated_at TIMESTAMP NULL,
    
    FOREIGN KEY (lesson_id) REFERENCES lessons(id) ON DELETE CASCADE,
    FOREIGN KEY (student_id) REFERENCES users(id) ON DELETE CASCADE,
    UNIQUE KEY unique_lesson_student_attendance (lesson_id, student_id)
);
```

**ุงูุญููู:**
- `id`: ุงููุนุฑู ุงููุฑูุฏ ูุณุฌู ุงูุญุถูุฑ
- `lesson_id`: ูุนุฑู ุงูุฏุฑุณ (Foreign Key ุฅูู lessons)
- `student_id`: ูุนุฑู ุงูุทุงูุจ (Foreign Key ุฅูู users)
- `status`: ุญุงูุฉ ุงูุญุถูุฑ (ุญุงุถุฑุ ุบุงุฆุจุ ูุชุฃุฎุฑ)
- `attendance_date`: ุชุงุฑูุฎ ูููุช ุชุณุฌูู ุงูุญุถูุฑ
- `used_code`: ุงูููุฏ ุงููุณุชุฎุฏู ูู ุชุณุฌูู ุงูุญุถูุฑ (ุงุฎุชูุงุฑู)
- `created_at`, `updated_at`: ุชูุงุฑูุฎ ุงูุฅูุดุงุก ูุงูุชุญุฏูุซ

**ุงูุนูุงูุงุช:**
- `belongsTo` ูุน ุฌุฏูู lessons
- `belongsTo` ูุน ุฌุฏูู users (ุงูุทุงูุจ)

**ุงูููุงุฑุณ:**
- Primary Key ุนูู `id`
- Foreign Key ุนูู `lesson_id`
- Foreign Key ุนูู `student_id`
- Unique Index ุนูู (`lesson_id`, `student_id`) ูููุน ุชุณุฌูู ุงูุญุถูุฑ ุงูููุฑุฑ
- Index ุนูู `attendance_date` (ููุจุญุซ ุจุงูุชุงุฑูุฎ)
- Index ุนูู `status` (ููููุชุฑุฉ)

---

### 5. ุฌุฏูู ุฃููุงุฏ ุงูุญุถูุฑ ุงูุนุดูุงุฆูุฉ (attendance_codes)

```sql
CREATE TABLE attendance_codes (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    lesson_id BIGINT NOT NULL,
    code VARCHAR(6) NOT NULL,
    expires_at TIMESTAMP NOT NULL,
    is_active BOOLEAN DEFAULT TRUE,
    created_at TIMESTAMP NULL,
    updated_at TIMESTAMP NULL,
    
    FOREIGN KEY (lesson_id) REFERENCES lessons(id) ON DELETE CASCADE
);
```

**ุงูุญููู:**
- `id`: ุงููุนุฑู ุงููุฑูุฏ ููููุฏ
- `lesson_id`: ูุนุฑู ุงูุฏุฑุณ (Foreign Key ุฅูู lessons)
- `code`: ุงูููุฏ ุงูุนุดูุงุฆู (6 ุฃุฑูุงู)
- `expires_at`: ุชุงุฑูุฎ ูููุช ุงูุชูุงุก ุตูุงุญูุฉ ุงูููุฏ
- `is_active`: ุญุงูุฉ ุงูููุฏ (ูุดุท/ุบูุฑ ูุดุท)
- `created_at`, `updated_at`: ุชูุงุฑูุฎ ุงูุฅูุดุงุก ูุงูุชุญุฏูุซ

**ุงูุนูุงูุงุช:**
- `belongsTo` ูุน ุฌุฏูู lessons

**ุงูููุงุฑุณ:**
- Primary Key ุนูู `id`
- Foreign Key ุนูู `lesson_id`
- Index ุนูู `code` (ููุจุญุซ ุงูุณุฑูุน)
- Index ุนูู `expires_at` (ููููุชุฑุฉ ุจุงูููุช)
- Index ุนูู `is_active` (ููููุชุฑุฉ)

---

## ๐ ุงูุนูุงูุงุช ุจูู ุงูุฌุฏุงูู

### ูุฎุทุท ุงูุนูุงูุงุช:

```
users (ุงููุณุชุฎุฏููู)
โโโ 1:N โ lessons (ูุฃุณุชุงุฐ)
โโโ N:M โ lessons (ูุทุงูุจ ุนุจุฑ lesson_student)
โโโ 1:N โ attendances (ูุทุงูุจ)

lessons (ุงูุฏุฑูุณ)
โโโ N:1 โ users (ุงูุฃุณุชุงุฐ)
โโโ N:M โ users (ุงูุทูุงุจ ุนุจุฑ lesson_student)
โโโ 1:N โ attendances
โโโ 1:N โ attendance_codes

lesson_student (ุฑุจุท ุงูุทูุงุจ ุจุงูุฏุฑูุณ)
โโโ N:1 โ lessons
โโโ N:1 โ users (ุงูุทูุงุจ)

attendances (ุณุฌูุงุช ุงูุญุถูุฑ)
โโโ N:1 โ lessons
โโโ N:1 โ users (ุงูุทูุงุจ)

attendance_codes (ุฃููุงุฏ ุงูุญุถูุฑ)
โโโ N:1 โ lessons
```

### ุชูุตูู ุงูุนูุงูุงุช:

1. **User โ Lessons (ูุฃุณุชุงุฐ)**: One-to-Many
   - ุฃุณุชุงุฐ ูุงุญุฏ ูููู ุฃู ูุฏุฑูุณ ุนุฏุฉ ุฏุฑูุณ
   - ูู ุฏุฑุณ ูู ุฃุณุชุงุฐ ูุงุญุฏ ููุท

2. **User โ Lessons (ูุทุงูุจ)**: Many-to-Many
   - ุทุงูุจ ูุงุญุฏ ูููู ุฃู ูุณุฌู ูู ุนุฏุฉ ุฏุฑูุณ
   - ุฏุฑุณ ูุงุญุฏ ูููู ุฃู ูุญุชูู ุนูู ุนุฏุฉ ุทูุงุจ
   - ุงูุนูุงูุฉ ุชุชู ุนุจุฑ ุฌุฏูู lesson_student

3. **Lesson โ Attendances**: One-to-Many
   - ุฏุฑุณ ูุงุญุฏ ูููู ุฃู ูุญุชูู ุนูู ุนุฏุฉ ุณุฌูุงุช ุญุถูุฑ
   - ูู ุณุฌู ุญุถูุฑ ูุฑุชุจุท ุจุฏุฑุณ ูุงุญุฏ ููุท

4. **User โ Attendances (ูุทุงูุจ)**: One-to-Many
   - ุทุงูุจ ูุงุญุฏ ูููู ุฃู ูุญุชูู ุนูู ุนุฏุฉ ุณุฌูุงุช ุญุถูุฑ
   - ูู ุณุฌู ุญุถูุฑ ูุฑุชุจุท ุจุทุงูุจ ูุงุญุฏ ููุท

5. **Lesson โ AttendanceCodes**: One-to-Many
   - ุฏุฑุณ ูุงุญุฏ ูููู ุฃู ูุญุชูู ุนูู ุนุฏุฉ ุฃููุงุฏ ุญุถูุฑ
   - ูู ููุฏ ุญุถูุฑ ูุฑุชุจุท ุจุฏุฑุณ ูุงุญุฏ ููุท

---

## โ ุงูุณุคุงู ุงูุฃูู: ุฌุฏูู ูุงุญุฏ ูููุณุชุฎุฏููู ุฃู ุฌุฏุงูู ูููุตูุฉุ

### ุงูุฎูุงุฑ ุงูุฃูู: ุฌุฏูู ูุงุญุฏ ูุน ุญูู type (ุงูุญู ุงูุญุงูู) โ

```sql
CREATE TABLE users (
    id BIGINT PRIMARY KEY,
    name VARCHAR(255),
    email VARCHAR(255) UNIQUE,
    password VARCHAR(255),
    type ENUM('admin', 'teacher', 'student'),
    -- ุญููู ูุดุชุฑูุฉ ุฃุฎุฑู
);
```

**ุงููุฒุงูุง:**
- โ **ุงูุจุณุงุทุฉ**: ุชุตููู ุฃุจุณุท ูุฃุณูู ูู ุงูููู
- โ **ุณูููุฉ ุงูุงุณุชุนูุงู**: ุงุณุชุนูุงูุงุช ุฃุจุณุท ููุจุญุซ ุนู ุงููุณุชุฎุฏููู
- โ **ูุฑููุฉ ูู ุชุบููุฑ ุงูุฃุฏูุงุฑ**: ูููู ุชุบููุฑ ููุน ุงููุณุชุฎุฏู ุจุณูููุฉ
- โ **ุชูููู ุงูุชุนููุฏ**: ุนุฏุฏ ุฃูู ูู ุงูุฌุฏุงูู ูุงูุนูุงูุงุช
- โ **Authentication ููุญุฏ**: ูุธุงู ุชุณุฌูู ุฏุฎูู ูุงุญุฏ ูุฌููุน ุงููุณุชุฎุฏููู
- โ **Laravel Eloquent**: ูุฏุนู ูุฐุง ุงูููุท ุจุดูู ููุชุงุฒ
- โ **Filament**: ูุฏุนู ุงูููุชุฑุฉ ุจุณูููุฉ ุญุณุจ ุงูููุน

**ุงูุนููุจ:**
- โ **ุญููู ุบูุฑ ูุณุชุฎุฏูุฉ**: ุจุนุถ ุงูุญููู ูุฏ ูุง ุชููู ููุงุณุจุฉ ูุฌููุน ุงูุฃููุงุน
- โ **ุชุนููุฏ ุงูููุชุฑุฉ**: ูุฏ ุชุญุชุงุฌ ููุชุฑุฉ ุฅุถุงููุฉ ูู ุจุนุถ ุงูุงุณุชุนูุงูุงุช
- โ **ูููุฏ ุงูุชุญูู**: ุตุนูุจุฉ ูู ุชุทุจูู ูููุฏ ูุฎุชููุฉ ููู ููุน

### ุงูุฎูุงุฑ ุงูุซุงูู: ุฌุฏุงูู ูููุตูุฉ

```sql
CREATE TABLE admins (
    id BIGINT PRIMARY KEY,
    name VARCHAR(255),
    email VARCHAR(255) UNIQUE,
    password VARCHAR(255),
    permissions JSON
);

CREATE TABLE teachers (
    id BIGINT PRIMARY KEY,
    name VARCHAR(255),
    email VARCHAR(255) UNIQUE,
    password VARCHAR(255),
    department VARCHAR(255),
    specialization VARCHAR(255)
);

CREATE TABLE students (
    id BIGINT PRIMARY KEY,
    name VARCHAR(255),
    email VARCHAR(255) UNIQUE,
    password VARCHAR(255),
    student_number VARCHAR(50),
    enrollment_date DATE
);
```

**ุงููุฒุงูุง:**
- โ **ุชุฎุตุต ุงูุญููู**: ูู ุฌุฏูู ูุญุชูู ุนูู ุงูุญููู ุงูููุงุณุจุฉ ููุท
- โ **ุฃุฏุงุก ุฃูุถู**: ุงุณุชุนูุงูุงุช ุฃุณุฑุน ููู ููุน ูููุตู
- โ **ูููุฏ ูุญุฏุฏุฉ**: ูููู ุชุทุจูู ูููุฏ ูุฎุชููุฉ ููู ุฌุฏูู
- โ **ูุถูุญ ุงูุจูุงูุงุช**: ูุตู ูุงุถุญ ุจูู ุฃููุงุน ุงููุณุชุฎุฏููู

**ุงูุนููุจ:**
- โ **ุชุนููุฏ ุงูุชุตููู**: ุชุตููู ุฃูุซุฑ ุชุนููุฏุงู
- โ **ุตุนูุจุฉ ุงูุงุณุชุนูุงู**: ุงุณุชุนูุงูุงุช ูุนูุฏุฉ ููุจุญุซ ูู ุฌููุน ุงููุณุชุฎุฏููู
- โ **ุชุนููุฏ Authentication**: ูุญุชุงุฌ ูุธุงู ุชุณุฌูู ุฏุฎูู ูููุตู ุฃู ููุญุฏ ูุนูุฏ
- โ **ุตุนูุจุฉ ุชุบููุฑ ุงูุฃุฏูุงุฑ**: ุชุนููุฏ ูู ุชุญููู ูุณุชุฎุฏู ูู ููุน ูุขุฎุฑ
- โ **Laravel Eloquent**: ูุญุชุงุฌ ุฅุนุฏุงุฏ ุฅุถุงูู ููุนูุงูุงุช
- โ **Filament**: ูุญุชุงุฌ Resources ูููุตูุฉ ููู ููุน

### ๐ ุงูุชูุตูุฉ: ุงูุฎูุงุฑ ุงูุฃูู (ุฌุฏูู ูุงุญุฏ ูุน type)

**ุงูุฃุณุจุงุจ:**
1. **ููุงุณุจ ูุญุฌู ุงููุดุฑูุน**: ูุดุฑูุน ูุชูุณุท ุงูุญุฌู ูุง ูุญุชุงุฌ ุชุนููุฏ ุฅุถุงูู
2. **Laravel Best Practices**: Laravel ูุฏุนู ูุฐุง ุงูููุท ุจููุฉ
3. **Filament Integration**: ุชูุงูู ุฃูุถู ูุน Filament
4. **ุณูููุฉ ุงูุตูุงูุฉ**: ุฃุณูู ูู ุงูุตูุงูุฉ ูุงูุชุทููุฑ
5. **ูุฑููุฉ ูุณุชูุจููุฉ**: ูููู ุฅุถุงูุฉ ุฃููุงุน ุฌุฏูุฏุฉ ุจุณูููุฉ

---

## โ ุงูุณุคุงู ุงูุซุงูู: Panel ูุงุญุฏ ุฃู Panels ูููุตูุฉุ

### ุงูุฎูุงุฑ ุงูุฃูู: Panel ูุงุญุฏ ูุน ุตูุงุญูุงุช ูุฎุชููุฉ (ุงูุญู ุงูุญุงูู) โ

```php
// config/filament.php ุฃู AppServiceProvider
public function boot()
{
    Filament::serving(function () {
        // ุชุทุจูู ุงูุตูุงุญูุงุช ุญุณุจ ููุน ุงููุณุชุฎุฏู
        if (auth()->user()->isAdmin()) {
            // ุงููุฏูุฑ ูุฑู ูู ุดูุก
        } elseif (auth()->user()->isTeacher()) {
            // ุงูุฃุณุชุงุฐ ูุฑู ุฏุฑูุณู ููุท
        } elseif (auth()->user()->isStudent()) {
            // ุงูุทุงูุจ ูุฑู ุฏุฑูุณู ุงููุณุฌู ูููุง ููุท
        }
    });
}
```

**ุงููุฒุงูุง:**
- โ **ุจุณุงุทุฉ ุงูุชุทููุฑ**: ุชุทููุฑ ุฃุณุฑุน ูุฃุจุณุท
- โ **ุตูุงูุฉ ุฃุณูู**: ููุงู ูุงุญุฏ ููุชุญุฏูุซุงุช
- โ **ุชุฌุฑุจุฉ ูุณุชุฎุฏู ููุญุฏุฉ**: ูุงุฌูุฉ ูุชุณูุฉ ูุฌููุน ุงููุณุชุฎุฏููู
- โ **ูุดุงุฑูุฉ ุงูููููุงุช**: ุฅุนุงุฏุฉ ุงุณุชุฎุฏุงู Components ู Resources
- โ **ุชุณุฌูู ุฏุฎูู ููุญุฏ**: ูุธุงู authentication ูุงุญุฏ
- โ **ุฅุนุฏุงุฏุงุช ูุฑูุฒูุฉ**: ุฅุนุฏุงุฏุงุช ููุญุฏุฉ ูููุธุงู

**ุงูุนููุจ:**
- โ **ุชุนููุฏ ุงูุตูุงุญูุงุช**: ูุญุชุงุฌ ูุธุงู ุตูุงุญูุงุช ูุนูุฏ
- โ **ุฃูุงู ุฃูู**: ุฎุทุฑ ุฃูุจุฑ ูู ุญุงูุฉ ูุฌูุฏ ุซุบุฑุงุช
- โ **ุชุฎุตูุต ูุญุฏูุฏ**: ุตุนูุจุฉ ูู ุชุฎุตูุต ุงููุงุฌูุฉ ููู ููุน ูุณุชุฎุฏู

### ุงูุฎูุงุฑ ุงูุซุงูู: Panels ูููุตูุฉ

```php
// app/Providers/Filament/AdminPanelProvider.php
class AdminPanelProvider extends PanelProvider
{
    public function panel(Panel $panel): Panel
    {
        return $panel
            ->id('admin')
            ->path('/admin')
            ->resources([
                UserResource::class,
                LessonResource::class,
                AttendanceResource::class,
            ]);
    }
}

// app/Providers/Filament/TeacherPanelProvider.php
class TeacherPanelProvider extends PanelProvider
{
    public function panel(Panel $panel): Panel
    {
        return $panel
            ->id('teacher')
            ->path('/teacher')
            ->resources([
                TeacherLessonResource::class,
                TeacherAttendanceResource::class,
            ]);
    }
}

// app/Providers/Filament/StudentPanelProvider.php
class StudentPanelProvider extends PanelProvider
{
    public function panel(Panel $panel): Panel
    {
        return $panel
            ->id('student')
            ->path('/student')
            ->resources([
                StudentLessonResource::class,
                StudentAttendanceResource::class,
            ]);
    }
}
```

**ุงููุฒุงูุง:**
- โ **ุฃูุงู ุฃุนูู**: ูุตู ูุงูู ุจูู ุตูุงุญูุงุช ุงููุณุชุฎุฏููู
- โ **ุชุฎุตูุต ูุงูู**: ูุงุฌูุฉ ูุฎุตุตุฉ ููู ููุน ูุณุชุฎุฏู
- โ **ุฃุฏุงุก ุฃูุถู**: ูู panel ูุญูู ูุง ูุญุชุงุฌู ููุท
- โ **ูุถูุญ ุงูุฃุฏูุงุฑ**: ูุตู ูุงุถุญ ุจูู ุงูุฃุฏูุงุฑ ูุงููุณุคูููุงุช
- โ **ุณูููุฉ ุงูุชุทููุฑ ุงููุชูุงุฒู**: ูุฑู ูุฎุชููุฉ ูููู ุฃู ุชุนูู ุนูู panels ูุฎุชููุฉ

**ุงูุนููุจ:**
- โ **ุชุนููุฏ ุงูุชุทููุฑ**: ุชุทููุฑ ุฃุทูู ูุฃูุซุฑ ุชุนููุฏุงู
- โ **ุชูุฑุงุฑ ุงูููุฏ**: ุชูุฑุงุฑ ูู Resources ู Components
- โ **ุตูุงูุฉ ูุนูุฏุฉ**: ุชุญุฏูุซุงุช ูู ุฃูุงูู ูุชุนุฏุฏุฉ
- โ **ุชุฌุฑุจุฉ ูุณุชุฎุฏู ูุฎุชููุฉ**: ูุฏ ุชููู ูุฑุจูุฉ ูููุณุชุฎุฏููู
- โ **ุฅุนุฏุงุฏุงุช ูุชุนุฏุฏุฉ**: ุฅุฏุงุฑุฉ ุฅุนุฏุงุฏุงุช ูููุตูุฉ ููู panel

### ๐ ุงูุชูุตูุฉ: ุงูุฎูุงุฑ ุงูุฃูู (Panel ูุงุญุฏ ูุน ุตูุงุญูุงุช)

**ุงูุฃุณุจุงุจ:**
1. **ููุงุณุจ ูุญุฌู ุงููุดุฑูุน**: ูุดุฑูุน ุชุนูููู ูุง ูุญุชุงุฌ ุชุนููุฏ ุฅุถุงูู
2. **ุณุฑุนุฉ ุงูุชุทููุฑ**: ุชุทููุฑ ุฃุณุฑุน ูุฅุทูุงู ุฃุณุฑุน
3. **ุณูููุฉ ุงูุตูุงูุฉ**: ุตูุงูุฉ ุฃุจุณุท ูุชุญุฏูุซุงุช ุฃุณูู
4. **ุชุฌุฑุจุฉ ูุณุชุฎุฏู ุฃูุถู**: ูุงุฌูุฉ ููุญุฏุฉ ููุฃูููุฉ
5. **ูุฑููุฉ ูุณุชูุจููุฉ**: ูููู ุชุญูููู ูู panels ูููุตูุฉ ูุงุญูุงู ุฅุฐุง ุงุญุชุฌูุง

---

## ๐ง ุชุทุจูู ุงูุตูุงุญูุงุช ูู Panel ูุงุญุฏ

### 1. ุฅูุดุงุก Policies

```php
// app/Policies/LessonPolicy.php
class LessonPolicy
{
    public function viewAny(User $user): bool
    {
        return $user->isAdmin() || $user->isTeacher() || $user->isStudent();
    }

    public function view(User $user, Lesson $lesson): bool
    {
        if ($user->isAdmin()) {
            return true;
        }
        
        if ($user->isTeacher()) {
            return $lesson->teacher_id === $user->id;
        }
        
        if ($user->isStudent()) {
            return $lesson->students()->where('student_id', $user->id)->exists();
        }
        
        return false;
    }

    public function create(User $user): bool
    {
        return $user->isAdmin() || $user->isTeacher();
    }

    public function update(User $user, Lesson $lesson): bool
    {
        if ($user->isAdmin()) {
            return true;
        }
        
        if ($user->isTeacher()) {
            return $lesson->teacher_id === $user->id;
        }
        
        return false;
    }

    public function delete(User $user, Lesson $lesson): bool
    {
        return $user->isAdmin();
    }
}
```

### 2. ุชุทุจูู ุงูููุชุฑุฉ ูู Resources

```php
// app/Filament/Resources/LessonResource.php
class LessonResource extends Resource
{
    public static function getEloquentQuery(): Builder
    {
        $query = parent::getEloquentQuery();
        $user = auth()->user();

        if ($user->isAdmin()) {
            return $query; // ุงููุฏูุฑ ูุฑู ูู ุดูุก
        }

        if ($user->isTeacher()) {
            return $query->where('teacher_id', $user->id);
        }

        if ($user->isStudent()) {
            return $query->whereHas('students', function ($q) use ($user) {
                $q->where('student_id', $user->id);
            });
        }

        return $query->whereRaw('1 = 0'); // ูุง ูุฑู ุดูุก
    }
}
```

### 3. ุชุฎุตูุต Navigation

```php
// app/Filament/Resources/LessonResource.php
public static function shouldRegisterNavigation(): bool
{
    return auth()->user()->isAdmin() || auth()->user()->isTeacher();
}

// ุฃู ูู getNavigationItems()
public static function getNavigationItems(): array
{
    $user = auth()->user();
    
    if ($user->isStudent()) {
        return []; // ุงูุทูุงุจ ูุง ูุฑูู ูุฐุง ูู ุงููุงุฆูุฉ
    }
    
    return parent::getNavigationItems();
}
```

---

## ๐ ุงูุฃุฏุงุก ูุงูุชุญุณููุงุช

### 1. ุงูููุงุฑุณ ุงูููุชุฑุญุฉ

```sql
-- ููุงุฑุณ ุฅุถุงููุฉ ูุชุญุณูู ุงูุฃุฏุงุก
CREATE INDEX idx_users_type ON users(type);
CREATE INDEX idx_lessons_teacher_date ON lessons(teacher_id, lesson_date);
CREATE INDEX idx_lessons_date_active ON lessons(lesson_date, is_active);
CREATE INDEX idx_attendances_lesson_date ON attendances(lesson_id, attendance_date);
CREATE INDEX idx_attendances_student_date ON attendances(student_id, attendance_date);
CREATE INDEX idx_attendance_codes_lesson_active ON attendance_codes(lesson_id, is_active);
CREATE INDEX idx_attendance_codes_expires ON attendance_codes(expires_at);
```

### 2. ุชุญุณููุงุช ุงูุงุณุชุนูุงูุงุช

```php
// ุงุณุชุฎุฏุงู Eager Loading ูุชูููู ุนุฏุฏ ุงูุงุณุชุนูุงูุงุช
$lessons = Lesson::with(['teacher', 'students', 'attendances'])
    ->where('lesson_date', today())
    ->get();

// ุงุณุชุฎุฏุงู Scopes ููุงุณุชุนูุงูุงุช ุงููุชูุฑุฑุฉ
class Lesson extends Model
{
    public function scopeActive($query)
    {
        return $query->where('is_active', true);
    }
    
    public function scopeForTeacher($query, $teacherId)
    {
        return $query->where('teacher_id', $teacherId);
    }
    
    public function scopeToday($query)
    {
        return $query->whereDate('lesson_date', today());
    }
}
```

---

## ๐ ุงูุฃูุงู ูุงูุญูุงูุฉ

### 1. ุญูุงูุฉ ุงูุจูุงูุงุช ุงูุญุณุงุณุฉ

```php
// app/Models/User.php
protected $hidden = [
    'password',
    'remember_token',
];

protected $casts = [
    'password' => 'hashed',
];
```

### 2. ุงูุชุญูู ูู ุงูุตูุงุญูุงุช

```php
// ูู Controllers ุฃู Resources
public function update(Request $request, Lesson $lesson)
{
    $this->authorize('update', $lesson);
    
    // ุจุงูู ุงูููุฏ
}
```

### 3. ุญูุงูุฉ Routes

```php
// routes/web.php
Route::middleware(['auth', 'verified'])->group(function () {
    Route::get('/admin', function () {
        if (!auth()->user()->isAdmin()) {
            abort(403);
        }
        return redirect('/admin/dashboard');
    });
});
```

---

## ๐ ุฅุญุตุงุฆูุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช

### ุญุฌู ุงูุจูุงูุงุช ุงููุชููุน:

- **ุงููุณุชุฎุฏููู**: 1,000 - 10,000 ูุณุชุฎุฏู
- **ุงูุฏุฑูุณ**: 100 - 1,000 ุฏุฑุณ ุดูุฑูุงู
- **ุณุฌูุงุช ุงูุญุถูุฑ**: 10,000 - 100,000 ุณุฌู ุดูุฑูุงู
- **ุฃููุงุฏ ุงูุญุถูุฑ**: 1,000 - 10,000 ููุฏ ููููุงู

### ูุชุทูุจุงุช ุงูุชุฎุฒูู:

- **users**: ~1KB ููู ูุณุชุฎุฏู
- **lessons**: ~500B ููู ุฏุฑุณ
- **attendances**: ~200B ููู ุณุฌู ุญุถูุฑ
- **attendance_codes**: ~100B ููู ููุฏ

**ุฅุฌูุงูู ูุชููุน**: 50MB - 500MB ุณูููุงู

---

## ๐ ุฎุทุฉ ุงูุชูููุฐ

### ุงููุฑุญูุฉ ุงูุฃููู: ุงูุฃุณุงุณูุงุช
1. ุฅูุดุงุก ุงูุฌุฏุงูู ุงูุฃุณุงุณูุฉ
2. ุฅูุดุงุก Models ูุน ุงูุนูุงูุงุช
3. ุฅุนุฏุงุฏ Filament Resources
4. ุชุทุจูู ุงูุตูุงุญูุงุช ุงูุฃุณุงุณูุฉ

### ุงููุฑุญูุฉ ุงูุซุงููุฉ: ุงูุชุญุณููุงุช
1. ุฅุถุงูุฉ ุงูููุงุฑุณ
2. ุชุญุณูู ุงูุงุณุชุนูุงูุงุช
3. ุฅุถุงูุฉ Scopes
4. ุชุญุณูู ุงูุฃุฏุงุก

### ุงููุฑุญูุฉ ุงูุซุงูุซุฉ: ุงูุฃูุงู
1. ุชุทุจูู Policies ุดุงููุฉ
2. ุญูุงูุฉ Routes
3. ุชุดููุฑ ุงูุจูุงูุงุช ุงูุญุณุงุณุฉ
4. ุงุฎุชุจุงุฑ ุงูุฃูุงู

---

## ๐ ุฎูุงุตุฉ ุงูุชูุตูุงุช

### โ ุงูุชูุตูุงุช ุงูููุจููุฉ:

1. **ุงุณุชุฎุฏุงู ุฌุฏูู ูุงุญุฏ ูููุณุชุฎุฏููู** ูุน ุญูู `type`
2. **ุงุณุชุฎุฏุงู Panel ูุงุญุฏ** ูุน ูุธุงู ุตูุงุญูุงุช ูุชูุฏู
3. **ุชุทุจูู Policies ุดุงููุฉ** ูุญูุงูุฉ ุงูุจูุงูุงุช
4. **ุงุณุชุฎุฏุงู Eager Loading** ูุชุญุณูู ุงูุฃุฏุงุก
5. **ุฅุถุงูุฉ ุงูููุงุฑุณ ุงูููุงุณุจุฉ** ูุชุณุฑูุน ุงูุงุณุชุนูุงูุงุช

### ๐ฏ ุงููุชูุฌุฉ ุงููุชููุนุฉ:

ูุธุงู ูุงุนุฏุฉ ุจูุงูุงุช ุจุณูุท ููุนุงู ูุฏุนู:
- **ุฃุฏุงุก ุนุงูู** ูุน ุงุณุชุนูุงูุงุช ุณุฑูุนุฉ
- **ุฃูุงู ููู** ูุน ุตูุงุญูุงุช ูุญููุฉ
- **ุณูููุฉ ุงูุตูุงูุฉ** ูุน ุชุตููู ูุงุถุญ
- **ูุฑููุฉ ุงูุชุทููุฑ** ูุน ุฅููุงููุฉ ุงูุชูุณุน ุงููุณุชูุจูู

---

*ุชู ุฅุนุฏุงุฏ ูุฐุง ุงูููู ูู: 2025-01-12*  
*ุขุฎุฑ ุชุญุฏูุซ: 2025-01-12*